import{a as m,j as e}from"./index-D1QAhWgw.js";import{r as x}from"./redux-vendor-D5VNH4HB.js";import{f as g,a as f}from"./helpers-D2giJciC.js";import{b as p}from"./react-vendor-CtAogoA6.js";import"./fontawesome-Ba4mgrWh.js";const h=({id:a})=>{const t=p(),l=m(r=>{const s=r.polls[a];return s?g(s,r.users[s.author],r.authedUser||""):null}),d=m(r=>{const s=r.polls[a];return s?r.users[s.author].avatarURL:""}),o=(r,s)=>{r.preventDefault(),t(`/questions/${s}`)};if(l===null)return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center",children:e.jsx("p",{className:"text-gray-500",children:"Poll not found"})});const{id:c,name:n,timestamp:i}=l;return e.jsxs("article",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-gray-100 bg-gray-50",children:[e.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:n}),e.jsx("time",{className:"text-xs text-gray-500",dateTime:new Date(i).toISOString(),children:f(i)})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("p",{className:"text-gray-600 text-sm font-medium mb-4",children:"Who Baked It Better?"})]}),e.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:e.jsx("button",{className:"w-full py-2.5 px-4 bg-amber-700 hover:bg-amber-800 text-white font-semibold rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 active:scale-[0.98]",onClick:r=>o(r,c),"aria-label":`View poll by ${n}`,children:"View Poll"})})]})},k=()=>{const a=m(s=>s.authedUser),t=m(s=>Object.values(s.polls).sort((u,b)=>b.timestamp-u.timestamp)),[l,d]=x.useState(!0),[o,c]=x.useState(!1),n=s=>s.optionOne.votes.includes(a||"")||s.optionTwo.votes.includes(a||""),i=s=>!s.optionOne.votes.includes(a||"")&&!s.optionTwo.votes.includes(a||""),r=s=>{s==="answered"?(c(!0),d(!1)):(c(!1),d(!0))};return e.jsxs("div",{children:[e.jsx("div",{className:"bg-secondary py-8",children:e.jsx("h1",{className:"text-4xl font-bold text-center",children:"Dashboard"})}),e.jsxs("div",{className:"max-w-[65em] mx-auto mb-40 px-4 py-8",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"inline-flex rounded-lg shadow-sm",role:"tablist","aria-label":"Poll filter",children:[e.jsx("button",{type:"button",role:"tab","aria-selected":l,"aria-controls":"unanswered-polls",onClick:()=>r("unanswered"),className:`
            relative px-6 py-2.5 text-sm font-semibold rounded-l-lg border transition-all
            focus:z-10 focus:outline-none focus:ring-2 focus:ring-amber-500
            ${l?"bg-amber-700 text-white border-amber-700 hover:bg-amber-800":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}
          `,children:"Unanswered"}),e.jsx("button",{type:"button",role:"tab","aria-selected":o,"aria-controls":"answered-polls",onClick:()=>r("answered"),className:`
            relative -ml-px px-6 py-2.5 text-sm font-semibold rounded-r-lg border transition-all
            focus:z-10 focus:outline-none focus:ring-2 focus:ring-amber-500
            ${o?"bg-amber-700 text-white border-amber-700 hover:bg-amber-800":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}
          `,children:"Answered"})]})}),l&&e.jsxs("section",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",role:"tabpanel",id:"unanswered-polls",children:[e.jsx("header",{className:"bg-gradient-to-r from-gray-800 to-gray-900 px-6 py-4",children:e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Unanswered Polls"})}),t.filter(i).length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[e.jsx("div",{className:"bg-gray-100 rounded-full p-6 mb-4",children:e.jsx("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),e.jsx("h3",{className:"text-xl text-gray-900 font-bold mb-2",children:"No unanswered polls"}),e.jsx("p",{className:"text-gray-600 text-center max-w-md",children:"You've answered all available polls! Check back later for new polls."})]}):e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.filter(i).map(s=>e.jsx("li",{className:"transform transition-transform hover:scale-[1.02]",children:e.jsx(h,{id:s.id})},s.id))})})]}),o&&e.jsxs("section",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",role:"tabpanel",id:"answered-polls",children:[e.jsx("header",{className:"bg-gradient-to-r from-gray-800 to-gray-900 px-6 py-4",children:e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Answered Polls"})}),t.filter(n).length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[e.jsx("div",{className:"bg-gray-100 rounded-full p-6 mb-4",children:e.jsx("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-xl text-gray-900 font-bold mb-2",children:"No answered polls yet"}),e.jsx("p",{className:"text-gray-600 text-center max-w-md",children:"Start voting on polls to build your voting history!"})]}):e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.filter(n).map(s=>e.jsx("li",{className:"transform transition-transform hover:scale-[1.02]",children:e.jsx(h,{id:s.id})},s.id))})})]})]})]})};export{k as default};
//# sourceMappingURL=Dashboard-DrTaZ3bW.js.map
