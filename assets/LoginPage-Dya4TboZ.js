import{u as j,a as N,j as e,s as S}from"./index-D1QAhWgw.js";import{r}from"./redux-vendor-D5VNH4HB.js";import{u as P,N as C}from"./react-vendor-CtAogoA6.js";import"./fontawesome-Ba4mgrWh.js";const D=()=>{const{state:x}=P(),w=j(),d=N(s=>s.users),[v,i]=r.useState(!1),[m,c]=r.useState(!1),[b,u]=r.useState(!1),[a,f]=r.useState(!1),t=r.useRef(null),l=r.useRef(null);r.useEffect(()=>{t.current&&(t.current.value=""),l.current&&(l.current.value="")},[]);const h=s=>{},g=s=>{s.preventDefault(),f(!0),setTimeout(()=>{const o=t.current?.value,p=l.current?.value,n=d[o||""];n&&n.password===p?(i(!0),c(!1),u(!1),w(S(n.id))):!o||!p?(c(!0),i(!1),u(!1),f(!1)):!n||n.password!==p?(u(!0),c(!1),i(!1),f(!1)):(u(!1),c(!1),i(!1),f(!1))},300)},y=s=>{s.preventDefault();const o=Object.keys(d)[Math.floor(Math.random()*Object.keys(d).length)];t.current&&(t.current.value=o),l.current&&(l.current.value=d[o].password),g(s)};return e.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[v&&e.jsx(C,{to:x?.path||"/dashboard"}),m&&e.jsx("div",{role:"alert","aria-live":"assertive","data-testid":"error-header",className:"text-red-600 bg-red-50 border border-red-200 rounded-lg text-center p-4 mb-4 font-semibold",children:"Error: Please ensure all fields are filled out."}),b&&e.jsx("div",{role:"alert","aria-live":"assertive","data-testid":"errorUserPwd-header",className:"text-red-600 bg-red-50 border border-red-200 rounded-lg text-center p-4 mb-4 font-semibold",children:"Error: Incorrect username or password. Please try again."}),e.jsx("form",{className:"bg-white rounded-lg shadow-xl p-8",onSubmit:g,"aria-label":"Sign in form",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("span",{className:"text-3xl font-bold text-amber-700",children:"Better Bake"}),e.jsx("h1",{className:"text-2xl font-semibold mt-2",children:"Sign In"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),e.jsx("input",{"data-testid":"username-input",type:"text",id:"username",name:"username",placeholder:"Username",ref:t,onChange:h,disabled:a,required:!0,"aria-required":"true","aria-invalid":m||b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pwd",className:"sr-only",children:"Password"}),e.jsx("input",{"data-testid":"password-input",type:"password",id:"pwd",name:"pwd",placeholder:"Password",ref:l,onChange:h,disabled:a,required:!0,"aria-required":"true","aria-invalid":m||b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{"data-testid":"submit-button",className:"flex-1 bg-amber-700 hover:bg-amber-800 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-all active:scale-95 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-amber-700 disabled:active:scale-100",type:"submit",disabled:a,children:a?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Submit"}),e.jsx("button",{"data-testid":"demo-button",className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-all active:scale-95 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-600 disabled:active:scale-100",type:"button",onClick:y,disabled:a,children:a?"Loading...":"Demo"})]})]})})]})})};export{D as default};
//# sourceMappingURL=LoginPage-Dya4TboZ.js.map
