{"version":3,"file":"helpers-D2giJciC.js","sources":["../../src/utils/helpers.ts"],"sourcesContent":["import { Poll, User, PollOption } from '../types';\r\n\r\nexport interface FormattedPoll {\r\n  name: string;\r\n  id: string;\r\n  timestamp: number;\r\n  avatar: string;\r\n  optionOne: PollOption;\r\n  optionTwo: PollOption;\r\n  authedUser: string;\r\n  hasVoted: boolean;\r\n}\r\n\r\nexport function formatDate(timestamp: number): string {\r\n  const d = new Date(timestamp);\r\n  const time = d.toLocaleTimeString('en-US');\r\n  return time.substr(0, 5) + time.slice(-2) + ' | ' + d.toLocaleDateString();\r\n}\r\n\r\nexport function formatPoll(poll: Poll, author: User, authedUser: string): FormattedPoll {\r\n  const { id, optionOne, optionTwo, timestamp } = poll;\r\n  const { name, avatarURL } = author;\r\n  \r\n  const optionOneVotes = optionOne.votes;\r\n  const optionTwoVotes = optionTwo.votes;\r\n  const allVotes = optionOneVotes.concat(optionTwoVotes);\r\n  const hasVoted = allVotes.includes(authedUser);\r\n\r\n  return {\r\n    name,\r\n    id,\r\n    timestamp,\r\n    avatar: avatarURL,\r\n    optionOne,\r\n    optionTwo,\r\n    authedUser,\r\n    hasVoted,\r\n  };\r\n}\r\n\r\nexport function formatPercent(val: number): string {\r\n  // source: https://stackoverflow.com/questions/45163256/how-to-format-numbers-as-percentage-values-in-javascript\r\n  // author: wrlee\r\n  return val.toLocaleString(undefined, { style: 'percent', minimumFractionDigits: 2 });\r\n}"],"names":["formatDate","timestamp","d","time","formatPoll","poll","author","authedUser","id","optionOne","optionTwo","name","avatarURL","optionOneVotes","optionTwoVotes","hasVoted","formatPercent","val"],"mappings":"AAaO,SAASA,EAAWC,EAA2B,CACpD,MAAMC,EAAI,IAAI,KAAKD,CAAS,EACtBE,EAAOD,EAAE,mBAAmB,OAAO,EACzC,OAAOC,EAAK,OAAO,EAAG,CAAC,EAAIA,EAAK,MAAM,EAAE,EAAI,MAAQD,EAAE,mBAAA,CACxD,CAEO,SAASE,EAAWC,EAAYC,EAAcC,EAAmC,CACtF,KAAM,CAAE,GAAAC,EAAI,UAAAC,EAAW,UAAAC,EAAW,UAAAT,GAAcI,EAC1C,CAAE,KAAAM,EAAM,UAAAC,CAAA,EAAcN,EAEtBO,EAAiBJ,EAAU,MAC3BK,EAAiBJ,EAAU,MAE3BK,EADWF,EAAe,OAAOC,CAAc,EAC3B,SAASP,CAAU,EAE7C,MAAO,CACL,KAAAI,EACA,GAAAH,EACA,UAAAP,EACA,OAAQW,EACR,UAAAH,EACA,UAAAC,EACA,WAAAH,EACA,SAAAQ,CAAA,CAEJ,CAEO,SAASC,EAAcC,EAAqB,CAGjD,OAAOA,EAAI,eAAe,OAAW,CAAE,MAAO,UAAW,sBAAuB,EAAG,CACrF"}