{"version":3,"file":"Dashboard-DrTaZ3bW.js","sources":["../../src/components/Poll.tsx","../../src/components/Dashboard.tsx"],"sourcesContent":["import React from 'react';\r\nimport { formatPoll, formatDate } from \"../utils/helpers\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAppSelector } from \"../store/hooks\";\r\n\r\ninterface PollProps {\r\n  id: string;\r\n}\r\n\r\nconst Poll: React.FC<PollProps> = ({ id }) => {\r\n  const navigate = useNavigate();\r\n  const poll = useAppSelector(state => {\r\n    const pollData = state.polls[id];\r\n    if (!pollData) return null;\r\n    return formatPoll(pollData, state.users[pollData.author], state.authedUser || '');\r\n  });\r\n  const pollAvatar = useAppSelector(state => {\r\n    const pollData = state.polls[id];\r\n    if (!pollData) return '';\r\n    return state.users[pollData.author].avatarURL;\r\n  });\r\n\r\n  const toPoll = (e: React.MouseEvent<HTMLButtonElement>, id: string) => {\r\n    e.preventDefault();\r\n    navigate(`/questions/${id}`);\r\n  }\r\n\r\n  if (poll === null) {\r\n    return (\r\n      <div className=\"bg-white rounded-lg border border-gray-200 p-6 text-center\">\r\n        <p className=\"text-gray-500\">Poll not found</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const {\r\n    id: pollId,\r\n    name,\r\n    timestamp,\r\n  } = poll;\r\n\r\n  return (\r\n    <article className=\"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow overflow-hidden h-full flex flex-col\">\r\n      {/* Author Info */}\r\n      <div className=\"flex items-center gap-3 p-4 border-b border-gray-100 bg-gray-50\">\r\n        <img \r\n          src={pollAvatar} \r\n          alt=\"\" \r\n          aria-hidden=\"true\"\r\n          className=\"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm\"\r\n        />\r\n        <div className=\"flex-1 min-w-0\">\r\n          <p className=\"text-sm font-semibold text-gray-900 truncate\">{name}</p>\r\n          <time \r\n            className=\"text-xs text-gray-500\" \r\n            dateTime={new Date(timestamp).toISOString()}\r\n          >\r\n            {formatDate(timestamp)}\r\n          </time>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Card Content */}\r\n      <div className=\"flex-1 flex flex-col items-center justify-center p-6\">\r\n        <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center mb-4\">\r\n          <svg \r\n            className=\"w-8 h-8 text-amber-700\" \r\n            fill=\"none\" \r\n            stroke=\"currentColor\" \r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path \r\n              strokeLinecap=\"round\" \r\n              strokeLinejoin=\"round\" \r\n              strokeWidth={2} \r\n              d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" \r\n            />\r\n          </svg>\r\n        </div>\r\n        <p className=\"text-gray-600 text-sm font-medium mb-4\">Who Baked It Better?</p>\r\n      </div>\r\n\r\n      {/* Action Button */}\r\n      <div className=\"p-4 border-t border-gray-100 bg-gray-50\">\r\n        <button\r\n          className=\"w-full py-2.5 px-4 bg-amber-700 hover:bg-amber-800 text-white font-semibold rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 active:scale-[0.98]\" \r\n          onClick={(e) => toPoll(e, pollId)}\r\n          aria-label={`View poll by ${name}`}\r\n        >\r\n          View Poll\r\n        </button>\r\n      </div>\r\n    </article>\r\n  )\r\n};\r\n\r\nexport default Poll;","import { useState } from \"react\";\r\nimport React from 'react';\r\nimport Poll from \"./Poll\";\r\nimport { Poll as PollType } from \"../types\";\r\nimport { useAppSelector } from \"../store/hooks\";\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const authedUser = useAppSelector(state => state.authedUser);\r\n  const polls = useAppSelector(state => \r\n    Object.values(state.polls).sort((a, b) => b.timestamp - a.timestamp)\r\n  );\r\n  const [showUnanswered, setShowUnanswered] = useState(true);\r\n  const [showAnswered, setShowAnswered] = useState(false);\r\n\r\n\r\n  const answered = (poll: PollType) => (poll.optionOne.votes.includes(authedUser || '') || poll.optionTwo.votes.includes(authedUser || ''));\r\n  const unanswered = (poll: PollType) => (!poll.optionOne.votes.includes(authedUser || '') && !poll.optionTwo.votes.includes(authedUser || ''));\r\n\r\n  const toggleView = (viewType: 'answered' | 'unanswered') => {\r\n    if (viewType === 'answered') {\r\n      setShowAnswered(true);\r\n      setShowUnanswered(false);\r\n    } else {\r\n      setShowAnswered(false);\r\n      setShowUnanswered(true);\r\n    }\r\n  }\r\n\r\n  return (\r\n  <div>\r\n    <div className=\"bg-secondary py-8\">\r\n      <h1 className=\"text-4xl font-bold text-center\">Dashboard</h1>\r\n    </div>\r\n    <div className=\"max-w-[65em] mx-auto mb-40 px-4 py-8\">\r\n      {/* Button Group Toggle */}\r\n      <div className=\"flex justify-center mb-8\">\r\n        <div \r\n          className=\"inline-flex rounded-lg shadow-sm\"\r\n          role=\"tablist\"\r\n          aria-label=\"Poll filter\"\r\n        >\r\n        <button\r\n          type=\"button\"\r\n          role=\"tab\"\r\n          aria-selected={showUnanswered}\r\n          aria-controls=\"unanswered-polls\"\r\n          onClick={() => toggleView('unanswered')}\r\n          className={`\r\n            relative px-6 py-2.5 text-sm font-semibold rounded-l-lg border transition-all\r\n            focus:z-10 focus:outline-none focus:ring-2 focus:ring-amber-500\r\n            ${showUnanswered \r\n              ? 'bg-amber-700 text-white border-amber-700 hover:bg-amber-800' \r\n              : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n            }\r\n          `}\r\n        >\r\n          Unanswered\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          role=\"tab\"\r\n          aria-selected={showAnswered}\r\n          aria-controls=\"answered-polls\"\r\n          onClick={() => toggleView('answered')}\r\n          className={`\r\n            relative -ml-px px-6 py-2.5 text-sm font-semibold rounded-r-lg border transition-all\r\n            focus:z-10 focus:outline-none focus:ring-2 focus:ring-amber-500\r\n            ${showAnswered \r\n              ? 'bg-amber-700 text-white border-amber-700 hover:bg-amber-800' \r\n              : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n            }\r\n          `}\r\n        >\r\n          Answered\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n      {/* Poll Sections */}\r\n      {showUnanswered && (\r\n        <section \r\n          className=\"bg-white rounded-lg shadow-md overflow-hidden mb-6\" \r\n          role=\"tabpanel\" \r\n          id=\"unanswered-polls\"\r\n        >\r\n          <header className=\"bg-gradient-to-r from-gray-800 to-gray-900 px-6 py-4\">\r\n            <h2 className=\"text-2xl font-bold text-white\">Unanswered Polls</h2>\r\n          </header>\r\n          \r\n          {polls.filter(unanswered).length === 0 ? (\r\n            <div className=\"flex flex-col items-center justify-center py-20 px-4\">\r\n              <div className=\"bg-gray-100 rounded-full p-6 mb-4\">\r\n                <svg className=\"w-16 h-16 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\" />\r\n                </svg>\r\n              </div>\r\n              <h3 className=\"text-xl text-gray-900 font-bold mb-2\">No unanswered polls</h3>\r\n              <p className=\"text-gray-600 text-center max-w-md\">\r\n                You've answered all available polls! Check back later for new polls.\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"p-6\">\r\n              <ul className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {polls\r\n                  .filter(unanswered)\r\n                  .map((poll) => (\r\n                    <li key={poll.id} className=\"transform transition-transform hover:scale-[1.02]\">\r\n                      <Poll id={poll.id} />\r\n                    </li>\r\n                  ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </section>\r\n      )}\r\n\r\n      {showAnswered && (\r\n        <section \r\n          className=\"bg-white rounded-lg shadow-md overflow-hidden mb-6\" \r\n          role=\"tabpanel\" \r\n          id=\"answered-polls\"\r\n        >\r\n          <header className=\"bg-gradient-to-r from-gray-800 to-gray-900 px-6 py-4\">\r\n            <h2 className=\"text-2xl font-bold text-white\">Answered Polls</h2>\r\n          </header>\r\n          \r\n          {polls.filter(answered).length === 0 ? (\r\n            <div className=\"flex flex-col items-center justify-center py-20 px-4\">\r\n              <div className=\"bg-gray-100 rounded-full p-6 mb-4\">\r\n                <svg className=\"w-16 h-16 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                </svg>\r\n              </div>\r\n              <h3 className=\"text-xl text-gray-900 font-bold mb-2\">No answered polls yet</h3>\r\n              <p className=\"text-gray-600 text-center max-w-md\">\r\n                Start voting on polls to build your voting history!\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"p-6\">\r\n              <ul className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {polls\r\n                  .filter(answered)\r\n                  .map((poll) => (\r\n                    <li key={poll.id} className=\"transform transition-transform hover:scale-[1.02]\">\r\n                      <Poll id={poll.id} />\r\n                    </li>\r\n                  ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </section>\r\n      )}\r\n\r\n    </div>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"names":["Poll","id","navigate","useNavigate","poll","useAppSelector","state","pollData","formatPoll","pollAvatar","toPoll","e","jsx","pollId","name","timestamp","jsxs","Dashboard","authedUser","polls","a","showUnanswered","setShowUnanswered","useState","showAnswered","setShowAnswered","answered","unanswered","toggleView","viewType"],"mappings":"gOASA,MAAMA,EAA4B,CAAC,CAAE,GAAAC,KAAS,CAC5C,MAAMC,EAAWC,EAAA,EACXC,EAAOC,EAAeC,GAAS,CACnC,MAAMC,EAAWD,EAAM,MAAML,CAAE,EAC/B,OAAKM,EACEC,EAAWD,EAAUD,EAAM,MAAMC,EAAS,MAAM,EAAGD,EAAM,YAAc,EAAE,EAD1D,IAExB,CAAC,EACKG,EAAaJ,EAAeC,GAAS,CACzC,MAAMC,EAAWD,EAAM,MAAML,CAAE,EAC/B,OAAKM,EACED,EAAM,MAAMC,EAAS,MAAM,EAAE,UADd,EAExB,CAAC,EAEKG,EAAS,CAACC,EAAwCV,IAAe,CACrEU,EAAE,eAAA,EACFT,EAAS,cAAcD,CAAE,EAAE,CAC7B,EAEA,GAAIG,IAAS,KACX,OACEQ,EAAAA,IAAC,OAAI,UAAU,6DACb,eAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,gBAAA,CAAc,CAAA,CAC7C,EAIJ,KAAM,CACJ,GAAIC,EACJ,KAAAC,EACA,UAAAC,CAAA,EACEX,EAEJ,OACEY,EAAAA,KAAC,UAAA,CAAQ,UAAU,8HAEjB,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kEACb,SAAA,CAAAJ,EAAAA,IAAC,MAAA,CACC,IAAKH,EACL,IAAI,GACJ,cAAY,OACZ,UAAU,qEAAA,CAAA,EAEZO,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAJ,EAAAA,IAAC,IAAA,CAAE,UAAU,+CAAgD,SAAAE,EAAK,EAClEF,EAAAA,IAAC,OAAA,CACC,UAAU,wBACV,SAAU,IAAI,KAAKG,CAAS,EAAE,YAAA,EAE7B,WAAWA,CAAS,CAAA,CAAA,CACvB,CAAA,CACF,CAAA,EACF,EAGAC,EAAAA,KAAC,MAAA,CAAI,UAAU,uDACb,SAAA,CAAAJ,EAAAA,IAAC,MAAA,CAAI,UAAU,6GACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAU,yBACV,KAAK,OACL,OAAO,eACP,QAAQ,YAER,SAAAA,EAAAA,IAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAa,EACb,EAAE,iIAAA,CAAA,CACJ,CAAA,EAEJ,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,yCAAyC,SAAA,sBAAA,CAAoB,CAAA,EAC5E,EAGAA,EAAAA,IAAC,MAAA,CAAI,UAAU,0CACb,SAAAA,EAAAA,IAAC,SAAA,CACC,UAAU,qMACV,QAAUD,GAAMD,EAAOC,EAAGE,CAAM,EAChC,aAAY,gBAAgBC,CAAI,GACjC,SAAA,WAAA,CAAA,CAED,CACF,CAAA,EACF,CAEJ,ECxFMG,EAAsB,IAAM,CAChC,MAAMC,EAAab,EAAeC,GAASA,EAAM,UAAU,EACrDa,EAAQd,EAAeC,GAC3B,OAAO,OAAOA,EAAM,KAAK,EAAE,KAAK,CAACc,EAAG,IAAM,EAAE,UAAYA,EAAE,SAAS,CAAA,EAE/D,CAACC,EAAgBC,CAAiB,EAAIC,EAAAA,SAAS,EAAI,EACnD,CAACC,EAAcC,CAAe,EAAIF,EAAAA,SAAS,EAAK,EAGhDG,EAAYtB,GAAoBA,EAAK,UAAU,MAAM,SAASc,GAAc,EAAE,GAAKd,EAAK,UAAU,MAAM,SAASc,GAAc,EAAE,EACjIS,EAAcvB,GAAoB,CAACA,EAAK,UAAU,MAAM,SAASc,GAAc,EAAE,GAAK,CAACd,EAAK,UAAU,MAAM,SAASc,GAAc,EAAE,EAErIU,EAAcC,GAAwC,CACtDA,IAAa,YACfJ,EAAgB,EAAI,EACpBH,EAAkB,EAAK,IAEvBG,EAAgB,EAAK,EACrBH,EAAkB,EAAI,EAE1B,EAEA,cACC,MAAA,CACC,SAAA,CAAAV,EAAAA,IAAC,MAAA,CAAI,UAAU,oBACb,SAAAA,EAAAA,IAAC,MAAG,UAAU,iCAAiC,qBAAS,CAAA,CAC1D,EACAI,EAAAA,KAAC,MAAA,CAAI,UAAU,uCAEb,SAAA,CAAAJ,EAAAA,IAAC,MAAA,CAAI,UAAU,2BACb,SAAAI,EAAAA,KAAC,MAAA,CACC,UAAU,mCACV,KAAK,UACL,aAAW,cAEb,SAAA,CAAAJ,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,KAAK,MACL,gBAAeS,EACf,gBAAc,mBACd,QAAS,IAAMO,EAAW,YAAY,EACtC,UAAW;AAAA;AAAA;AAAA,cAGPP,EACE,8DACA,yDACJ;AAAA,YAEH,SAAA,YAAA,CAAA,EAGDT,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,KAAK,MACL,gBAAeY,EACf,gBAAc,iBACd,QAAS,IAAMI,EAAW,UAAU,EACpC,UAAW;AAAA;AAAA;AAAA,cAGPJ,EACE,8DACA,yDACJ;AAAA,YAEH,SAAA,UAAA,CAAA,CAED,CAAA,CAAA,EAEJ,EAGGH,GACCL,EAAAA,KAAC,UAAA,CACC,UAAU,qDACV,KAAK,WACL,GAAG,mBAEH,SAAA,CAAAJ,EAAAA,IAAC,SAAA,CAAO,UAAU,uDAChB,SAAAA,EAAAA,IAAC,MAAG,UAAU,gCAAgC,4BAAgB,CAAA,CAChE,EAECO,EAAM,OAAOQ,CAAU,EAAE,SAAW,EACnCX,EAAAA,KAAC,MAAA,CAAI,UAAU,uDACb,SAAA,CAAAJ,EAAAA,IAAC,MAAA,CAAI,UAAU,oCACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,0BAA0B,KAAK,OAAO,OAAO,eAAe,QAAQ,YACjF,SAAAA,EAAAA,IAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,8IAAA,CAA+I,CAAA,CACtN,CAAA,CACF,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,uCAAuC,SAAA,sBAAmB,EACxEA,EAAAA,IAAC,IAAA,CAAE,UAAU,qCAAqC,SAAA,sEAAA,CAElD,CAAA,CAAA,CACF,EAEAA,EAAAA,IAAC,MAAA,CAAI,UAAU,MACb,SAAAA,EAAAA,IAAC,KAAA,CAAG,UAAU,uDACX,SAAAO,EACE,OAAOQ,CAAU,EACjB,IAAKvB,GACJQ,EAAAA,IAAC,KAAA,CAAiB,UAAU,oDAC1B,SAAAA,EAAAA,IAACZ,EAAA,CAAK,GAAII,EAAK,GAAI,CAAA,EADZA,EAAK,EAEd,CACD,EACL,CAAA,CACF,CAAA,CAAA,CAAA,EAKLoB,GACCR,EAAAA,KAAC,UAAA,CACC,UAAU,qDACV,KAAK,WACL,GAAG,iBAEH,SAAA,CAAAJ,EAAAA,IAAC,SAAA,CAAO,UAAU,uDAChB,SAAAA,EAAAA,IAAC,MAAG,UAAU,gCAAgC,0BAAc,CAAA,CAC9D,EAECO,EAAM,OAAOO,CAAQ,EAAE,SAAW,EACjCV,EAAAA,KAAC,MAAA,CAAI,UAAU,uDACb,SAAA,CAAAJ,EAAAA,IAAC,MAAA,CAAI,UAAU,oCACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,0BAA0B,KAAK,OAAO,OAAO,eAAe,QAAQ,YACjF,SAAAA,EAAAA,IAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,sHAAA,CAAuH,CAAA,CAC9L,CAAA,CACF,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,uCAAuC,SAAA,wBAAqB,EAC1EA,EAAAA,IAAC,IAAA,CAAE,UAAU,qCAAqC,SAAA,qDAAA,CAElD,CAAA,CAAA,CACF,EAEAA,EAAAA,IAAC,MAAA,CAAI,UAAU,MACb,SAAAA,EAAAA,IAAC,KAAA,CAAG,UAAU,uDACX,SAAAO,EACE,OAAOO,CAAQ,EACf,IAAKtB,GACJQ,EAAAA,IAAC,KAAA,CAAiB,UAAU,oDAC1B,SAAAA,EAAAA,IAACZ,EAAA,CAAK,GAAII,EAAK,GAAI,CAAA,EADZA,EAAK,EAEd,CACD,EACL,CAAA,CACF,CAAA,CAAA,CAAA,CAEJ,CAAA,CAGJ,CAAA,EACF,CAEF"}