const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-Dya4TboZ.js","assets/redux-vendor-D5VNH4HB.js","assets/react-vendor-CtAogoA6.js","assets/fontawesome-Ba4mgrWh.js","assets/Dashboard-DrTaZ3bW.js","assets/helpers-D2giJciC.js","assets/Leaderboard-CweS-osg.js","assets/PollPage-DVM873OH.js","assets/PollHeader-DK2dHJsx.js","assets/Custom404-BGnq5FTb.js","assets/LoginAs-CTZS8vhN.js","assets/LandingPage-CvGAz9Ns.js","assets/NewPoll-dPrpSXXQ.js","assets/Nav-VdqvrXW5.js"])))=>i.map(i=>d[i]);
import{b as ae,c as De,d as V,e as be,f as Ue,g as _e,h as Ne,u as Ce,i as Be,r as I,j as Me,k as qe,P as Fe}from"./redux-vendor-D5VNH4HB.js";import{r as Se}from"./fontawesome-Ba4mgrWh.js";import{R as ze,a as A,u as We,N as Je,O as He,H as Ke}from"./react-vendor-CtAogoA6.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const y of c)if(y.type==="childList")for(const _ of y.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&i(_)}).observe(document,{childList:!0,subtree:!0});function l(c){const y={};return c.integrity&&(y.integrity=c.integrity),c.referrerPolicy&&(y.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?y.credentials="include":c.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function i(c){if(c.ep)return;c.ep=!0;const y=l(c);fetch(c.href,y)}})();var X={exports:{}},z={};var ue;function Ge(){if(ue)return z;ue=1;var t=ae(),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function _(x,S,m){var e,n={},o=null,a=null;m!==void 0&&(o=""+m),S.key!==void 0&&(o=""+S.key),S.ref!==void 0&&(a=S.ref);for(e in S)i.call(S,e)&&!y.hasOwnProperty(e)&&(n[e]=S[e]);if(x&&x.defaultProps)for(e in S=x.defaultProps,S)n[e]===void 0&&(n[e]=S[e]);return{$$typeof:r,type:x,key:o,ref:a,props:n,_owner:c.current}}return z.Fragment=l,z.jsx=_,z.jsxs=_,z}var le;function Ve(){return le||(le=1,X.exports=Ge()),X.exports}var s=Ve(),K={},ce;function Ye(){if(ce)return K;ce=1;var t=De();return K.createRoot=t.createRoot,K.hydrateRoot=t.hydrateRoot,K}var Qe=Ye();const Ze="modulepreload",Xe=function(t){return"/better-bake/"+t},de={},k=function(r,l,i){let c=Promise.resolve();if(l&&l.length>0){let S=function(m){return Promise.all(m.map(e=>Promise.resolve(e).then(n=>({status:"fulfilled",value:n}),n=>({status:"rejected",reason:n}))))};document.getElementsByTagName("link");const _=document.querySelector("meta[property=csp-nonce]"),x=_?.nonce||_?.getAttribute("nonce");c=S(l.map(m=>{if(m=Xe(m),m in de)return;de[m]=!0;const e=m.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${n}`))return;const o=document.createElement("link");if(o.rel=e?"stylesheet":Ze,e||(o.as="script"),o.crossOrigin="",o.href=m,x&&o.setAttribute("nonce",x),document.head.appendChild(o),e)return new Promise((a,h)=>{o.addEventListener("load",a),o.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${m}`)))})}))}function y(_){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=_,window.dispatchEvent(x),!x.defaultPrevented)throw _}return c.then(_=>{for(const x of _||[])x.status==="rejected"&&y(x.reason);return r().catch(y)})};let J={aaronb:{id:"aaronb",password:"password123",name:"Aaron Brown",avatarURL:"https://i.imgur.com/lF8TibM.png",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionOne",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},anitab:{id:"anitab",password:"abc321",name:"Anita Brown",avatarURL:"https://i.imgur.com/HKCv3hu.png",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},lennyc:{id:"lennyc",password:"xyz123",name:"Lenny Civic",avatarURL:"https://i.imgur.com/2zUPqSn.png",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionOne"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]},maddiem:{id:"maddiem",password:"pass246",name:"Maddie Mazda",avatarURL:"https://i.imgur.com/UM9UYHZ.png",answers:{xj352vofupe1dqz9emx13r:"optionOne"},questions:[]}},C={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"aaronb",timestamp:1649386830421,optionOne:{votes:["aaronb"],text:"Flo's Davy Jones Locker Bread Sculpture",season:"08",episode:"0803",baker:"Flo"},optionTwo:{votes:[],text:"Sophie's Picnic Basket Bread Sculpture",season:"08",episode:"0803",baker:"Sophie"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"lennyc",timestamp:1645928870305,optionOne:{votes:[],text:"Stacey's Ascot Hat Bread Sculpture",season:"08",episode:"0803",baker:"Stacey"},optionTwo:{votes:["lennyc","aaronb"],text:"Steven's The Bag I Knead Bread Sculpture",season:"08",episode:"0803",baker:"Steven"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"aaronb",timestamp:1648435423015,optionOne:{votes:[],text:"Liam's Kneadapolitan Bread Sculpture",season:"08",episode:"0803",baker:"Liam"},optionTwo:{votes:["aaronb"],text:"Kate's Kraken Bread Sculpture",season:"08",episode:"0803",baker:"Kate"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"anitab",timestamp:1641046114171,optionOne:{votes:[],text:"Yan's Chequerboard Pie",season:"08",episode:"0806",baker:"Yan"},optionTwo:{votes:["aaronb"],text:"Kate's Potato Curry Pie with Mango & Chilli Glaze",season:"08",episode:"0806",baker:"Kate"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"anitab",timestamp:1654892182619,optionOne:{votes:["anitab"],text:"Rahul's Butterfly Pie",season:"09",episode:"0906",baker:"Rahul"},optionTwo:{votes:["lennyc"],text:"Briony's 'Down the Rabbit Hole' Banquet Pie",season:"09",episode:"0906",baker:"Briony"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"lennyc",timestamp:1655317692670,optionOne:{votes:["lennyc","maddiem"],text:"Jon's Welsh Dragon Pie",season:"09",episode:"0906",baker:"Jon"},optionTwo:{votes:["anitab"],text:"Kim-Joy's Silke the Vegetarian Mermaid",season:"09",episode:"0906",baker:"Kim-Joy"}}},$e={"08":{id:"08",baker:{Flo:{id:"Flo",episodes:{"0803":{id:"0803",bakeURL:"https://i.imgur.com/J0t0VEC.png",text:"Flo's Davy Jones Locker Bread Sculpture"}}},James:{id:"James",episodes:{"0803":{id:"0803",bakeURL:"https://i.imgur.com/sdA4k1m.png",text:"James' Owl in the Woods Bread Sculpture"}}},Julia:{id:"Julia",episodes:{"0803":{id:"0803",bakeURL:"https://i.imgur.com/SYdRtGH.png",text:"Julia's The Snail Under a Mushroom Bread Sculpture"},"0806":{id:"0806",bakeURL:"https://i.imgur.com/1vpJjLS.png",text:"Julia's Special Occasion Pie"}}},Kate:{id:"Kate",episodes:{"0803":{id:"0803",bakeURL:"https://i.imgur.com/GSqOalb.png",text:"Kate's Kraken Bread Sculpture"},"0806":{id:"0806",bakeURL:"https://i.imgur.com/cSvbkV4.png",text:"Kate's Potato Curry Pie with Mango & Chilli Glaze"}}},Liam:{id:"Liam",episodes:{"0803":{id:"0803",bakeURL:"https://i.imgur.com/PBtPyax.png",text:"Liam's Kneadapolitan Bread Sculpture"},"0806":{id:"0806",bakeURL:"https://i.imgur.com/1dyOdk8.png",text:"Liam's Nan's Sunday Dinner Pie"}}},Sophie:{id:"Sophie",episodes:{"0803":{id:"0803",bakeURL:"https://i.imgur.com/L38ueiN.png",text:"Sophie's Picnic Basket Bread Sculpture"},"0806":{id:"0806",bakeURL:"https://i.imgur.com/EfPNsco.png",text:"Sophie's Game Pie with Glazed Forest Fruits"}}},Stacey:{id:"Stacey",episodes:{"0803":{id:"0803",bakeURL:"https://i.imgur.com/JEyxvlP.png",text:"Stacey's Ascot Hat Bread Sculpture"},"0806":{id:"0806",bakeURL:"https://i.imgur.com/wNlfzTC.png",text:"Stacey's Indian Hand Raised Pie with Mango"}}},Steven:{id:"Steven",episodes:{"0803":{id:"0803",bakeURL:"https://i.imgur.com/yyJpbJC.png",text:"Steven's The Bag I Knead Bread Sculpture"},"0806":{id:"0806",bakeURL:"https://i.imgur.com/NNdLoYP.png",text:"Steven's Christmas Pie"}}},Tom:{id:"Tom",episodes:{"0803":{id:"0803",bakeURL:"https://i.imgur.com/4fmdOTt.png",text:"Tom's Pink & Yellow Rose Centrepiece Bread Sculpture"}}},Yan:{id:"Yan",episodes:{"0803":{id:"0803",bakeURL:"https://i.imgur.com/C6TZwf5.png",text:"Yan's Basil the Vegetarian Dragon with his Pumpkin Hoard Bread Sculpture"},"0806":{id:"0806",bakeURL:"https://i.imgur.com/PD2pMgD.png",text:"Yan's Chequerboard Pie"}}}}},"09":{id:"09",baker:{Briony:{id:"Briony",episodes:{"0906":{id:"0906",bakeURL:"https://i.imgur.com/79fLjn9.png",text:"Briony's 'Down the Rabbit Hole' Banquet Pie"}}},Dan:{id:"Dan",episodes:{"0906":{id:"0906",bakeURL:"https://i.imgur.com/cqTobCf.png",text:"Dan's Salmon Coulibiac"}}},Jon:{id:"Jon",episodes:{"0906":{id:"0906",bakeURL:"https://i.imgur.com/MB1FtlZ.png",text:"Jon's Welsh Dragon Pie"}}},"Kim-Joy":{id:"Kim-Joy",episodes:{"0906":{id:"0906",bakeURL:"https://i.imgur.com/84Y8n0G.png",text:"Kim-Joy's Silke the Vegetarian Mermaid"}}},Manon:{id:"Manon",episodes:{"0906":{id:"0906",bakeURL:"https://i.imgur.com/FowkCpl.png",text:"Manon's 'What Has Poppy Eaten?'"}}},Rahul:{id:"Rahul",episodes:{"0906":{id:"0906",bakeURL:"https://i.imgur.com/OfKpkVr.png",text:"Rahul's Butterfly Pie"}}},Ruby:{id:"Ruby",episodes:{"0906":{id:"0906",bakeURL:"https://i.imgur.com/aBYze1Z.png",text:"Ruby's Kohinoor Crown"}}}}}};function et(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function tt(){return new Promise(t=>{setTimeout(()=>t({...J}),1e3)})}function rt(){return new Promise(t=>{setTimeout(()=>t({...C}),1e3)})}function nt(){return new Promise(t=>{setTimeout(()=>t({...$e}),1e3)})}function ot({optionOneText:t,optionTwoText:r,optionOneImage:l,optionTwoImage:i,author:c}){return{id:et(),timestamp:Date.now(),author:c,optionOne:{votes:[],text:t,imgURL:l},optionTwo:{votes:[],text:r,imgURL:i}}}function at(t){return new Promise((r,l)=>{(!t.optionOneText||!t.optionTwoText||!t.optionOneImage||!t.optionTwoImage||!t.author)&&l("Please provide optionOneText, optionTwoText, and author");const i=ot(t);setTimeout(()=>{C={...C,[i.id]:i},r(i)},1e3)})}function it({authedUser:t,qid:r,answer:l}){return new Promise((i,c)=>{(!t||!r||!l)&&c("Please provide authedUser, qid, and answer"),setTimeout(()=>{J={...J,[t]:{...J[t],answers:{...J[t].answers,[r]:l}}},C={...C,[r]:{...C[r],[l]:{...C[r][l],votes:C[r][l].votes.concat([t])}}},i(!0)},500)})}function st(){return Promise.all([tt(),rt(),nt()]).then(([t,r,l])=>({users:t,polls:r,bakers:l}))}function Ht(t){return at(t)}function Kt(t){return it(t)}const xe=V({name:"users",initialState:{},reducers:{receiveUsers:(t,r)=>({...t,...r.payload}),addAnswerToUser:(t,r)=>{const{authedUser:l,qid:i,answer:c}=r.payload;t[l].answers[i]=c},addPollToUser:(t,r)=>{const{author:l,qid:i}=r.payload;t[l].questions.push(i)}}}),{receiveUsers:ut,addAnswerToUser:Gt,addPollToUser:Vt}=xe.actions,lt=xe.reducer,Oe=V({name:"polls",initialState:{},reducers:{receivePolls:(t,r)=>({...t,...r.payload}),addPoll:(t,r)=>{t[r.payload.id]=r.payload},addAnswer:(t,r)=>{const{qid:l,answer:i,authedUser:c}=r.payload;t[l][i].votes.push(c)}}}),{receivePolls:ct,addPoll:Yt,addAnswer:Qt}=Oe.actions,dt=Oe.reducer,we=V({name:"bakers",initialState:{},reducers:{receiveBakers:(t,r)=>({...t,...r.payload})}}),{receiveBakers:pt}=we.actions,ft=we.reducer;var $={},ee={};function Pe(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Re(t){function r(l){var i=this.constructor.getDerivedStateFromProps(t,l);return i??null}this.setState(r.bind(this))}function Ee(t,r){try{var l=this.props,i=this.state;this.props=t,this.state=r,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(l,i)}finally{this.props=l,this.state=i}}Pe.__suppressDeprecationWarning=!0;Re.__suppressDeprecationWarning=!0;Ee.__suppressDeprecationWarning=!0;function mt(t){var r=t.prototype;if(!r||!r.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof r.getSnapshotBeforeUpdate!="function")return t;var l=null,i=null,c=null;if(typeof r.componentWillMount=="function"?l="componentWillMount":typeof r.UNSAFE_componentWillMount=="function"&&(l="UNSAFE_componentWillMount"),typeof r.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof r.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof r.componentWillUpdate=="function"?c="componentWillUpdate":typeof r.UNSAFE_componentWillUpdate=="function"&&(c="UNSAFE_componentWillUpdate"),l!==null||i!==null||c!==null){var y=t.displayName||t.name,_=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+y+" uses "+_+" but also contains the following legacy lifecycles:"+(l!==null?`
  `+l:"")+(i!==null?`
  `+i:"")+(c!==null?`
  `+c:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(r.componentWillMount=Pe,r.componentWillReceiveProps=Re),typeof r.getSnapshotBeforeUpdate=="function"){if(typeof r.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");r.componentWillUpdate=Ee;var x=r.componentDidUpdate;r.componentDidUpdate=function(m,e,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;x.call(this,m,e,o)}}return t}const ht=Object.freeze(Object.defineProperty({__proto__:null,polyfill:mt},Symbol.toStringTag,{value:"Module"})),gt=be(ht),Te=be(Ue);var E={},pe;function Y(){if(pe)return E;pe=1,Object.defineProperty(E,"__esModule",{value:!0}),E.showLoading=x,E.hideLoading=S,E.resetLoading=m,E.loadingBarReducer=e,E.DEFAULT_SCOPE=E.RESET=E.HIDE=E.SHOW=void 0;function t(n,o){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(n);o&&(h=h.filter(function(g){return Object.getOwnPropertyDescriptor(n,g).enumerable})),a.push.apply(a,h)}return a}function r(n){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?t(Object(a),!0).forEach(function(h){l(n,h,a[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(h){Object.defineProperty(n,h,Object.getOwnPropertyDescriptor(a,h))})}return n}function l(n,o,a){return o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,n}var i="loading-bar/SHOW";E.SHOW=i;var c="loading-bar/HIDE";E.HIDE=c;var y="loading-bar/RESET";E.RESET=y;var _="default";E.DEFAULT_SCOPE=_;function x(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_;return{type:i,payload:{scope:n}}}function S(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_;return{type:c,payload:{scope:n}}}function m(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_;return{type:y,payload:{scope:n}}}function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.payload||{},h=a.scope,g=h===void 0?_:h;switch(o.type){case i:return r(r({},n),{},l({},g,(n[g]||0)+1));case c:return r(r({},n),{},l({},g,Math.max(0,(n[g]||1)-1)));case y:return r(r({},n),{},l({},g,0));default:return n}}return E}var fe;function Le(){return fe||(fe=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LoadingBar=t.TERMINATING_ANIMATION_DURATION=t.ANIMATION_DURATION=t.PROGRESS_INCREASE=t.MAX_PROGRESS=t.UPDATE_TIME=void 0;var r=x(ae()),l=gt,i=Se(),c=Te,y=Y();function _(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return _=function(){return u},u}function x(u){if(u&&u.__esModule)return u;if(u===null||S(u)!=="object"&&typeof u!="function")return{default:u};var d=_();if(d&&d.has(u))return d.get(u);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f)){var P=v?Object.getOwnPropertyDescriptor(u,f):null;P&&(P.get||P.set)?Object.defineProperty(p,f,P):p[f]=u[f]}return p.default=u,d&&d.set(u,p),p}function S(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(p){return typeof p}:S=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},S(u)}function m(u,d){var p=Object.keys(u);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(u);d&&(v=v.filter(function(f){return Object.getOwnPropertyDescriptor(u,f).enumerable})),p.push.apply(p,v)}return p}function e(u){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?m(Object(p),!0).forEach(function(v){n(u,v,p[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(p)):m(Object(p)).forEach(function(v){Object.defineProperty(u,v,Object.getOwnPropertyDescriptor(p,v))})}return u}function n(u,d,p){return d in u?Object.defineProperty(u,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[d]=p,u}function o(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function a(u,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(u,v.key,v)}}function h(u,d,p){return d&&a(u.prototype,d),p&&a(u,p),u}function g(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),d&&b(u,d)}function b(u,d){return b=Object.setPrototypeOf||function(v,f){return v.__proto__=f,v},b(u,d)}function w(u){var d=T();return function(){var v=L(u),f;if(d){var P=L(this).constructor;f=Reflect.construct(v,arguments,P)}else f=v.apply(this,arguments);return O(this,f)}}function O(u,d){return d&&(S(d)==="object"||typeof d=="function")?d:R(u)}function R(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function L(u){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},L(u)}var D=400;t.UPDATE_TIME=D;var H=99;t.MAX_PROGRESS=H;var M=20;t.PROGRESS_INCREASE=M;var ie=D*2;t.ANIMATION_DURATION=ie;var Q=D/2;t.TERMINATING_ANIMATION_DURATION=Q;var se={percent:0,status:"hidden"},q=(function(u){g(p,u);var d=w(p);h(p,null,[{key:"shouldStart",value:function(f,P){return f.loading>0&&["hidden","stopping"].indexOf(P.status)>=0}},{key:"shouldStop",value:function(f,P){return f.loading===0&&["starting","running"].indexOf(P.status)>=0}},{key:"getDerivedStateFromProps",value:function(f,P){return p.shouldStart(f,P)?{status:"starting"}:p.shouldStop(f,P)?{status:"stopping"}:null}}]);function p(v){var f;return o(this,p),f=d.call(this,v),f.reset=function(){f.terminatingAnimationTimeoutId=null,f.setState(se)},f.newPercent=function(P,j){var U=j*Math.cos(P*(Math.PI/2/100));return P+U},f.simulateProgress=function(){f.setState(function(P,j){var U=j.maxProgress,Z=j.progressIncrease,F=P.percent,N=f.newPercent(F,Z);return N<=U&&(F=N),{percent:F}})},f.state=e({},se),f}return h(p,[{key:"componentDidMount",value:function(){var f=this.state.status;f==="starting"&&this.start()}},{key:"componentDidUpdate",value:function(f,P){var j=this.state.status;P.status!==j&&(j==="starting"&&this.start(),j==="stopping"&&this.stop())}},{key:"componentWillUnmount",value:function(){clearInterval(this.progressIntervalId),clearTimeout(this.terminatingAnimationTimeoutId)}},{key:"start",value:function(){this.terminatingAnimationTimeoutId&&(clearTimeout(this.terminatingAnimationTimeoutId),this.reset());var f=this.props.updateTime;this.progressIntervalId=setInterval(this.simulateProgress,f),this.setState({status:"running"})}},{key:"stop",value:function(){var f=this.props.showFastActions;clearInterval(this.progressIntervalId),this.progressIntervalId=null;var P=this.isShown()||f?Q:0;this.terminatingAnimationTimeoutId=setTimeout(this.reset,P),this.setState({percent:100})}},{key:"isShown",value:function(){var f=this.state.percent;return f>0&&f<=100}},{key:"buildStyle",value:function(){var f=this.state,P=f.status,j=f.percent,U=this.props,Z=U.className,F=U.style,N=P==="stopping"?Q:ie,B={width:"".concat(j,"%"),transition:"width ".concat(N,"ms linear 0s"),msTransition:"width ".concat(N,"ms linear 0s"),WebkitTransition:"width ".concat(N,"ms linear 0s"),MozTransition:"width ".concat(N,"ms linear 0s"),OTransition:"width ".concat(N,"ms linear 0s"),willChange:"width, opacity"};return Z||(B.height="3px",B.backgroundColor="red",B.position="absolute"),this.isShown()?B.opacity="1":B.opacity="0",e(e({},B),F)}},{key:"render",value:function(){var f=this.state.status,P=this.props,j=P.direction,U=P.className;return f==="hidden"?r.default.createElement("div",null):r.default.createElement("div",{style:{direction:j}},r.default.createElement("div",{style:this.buildStyle(),className:U}),r.default.createElement("div",{style:{display:"table",clear:"both"}}))}}]),p})(r.Component);t.LoadingBar=q,q.propTypes={className:i.string,direction:i.string,loading:i.number,maxProgress:i.number,progressIncrease:i.number,scope:i.string,showFastActions:i.bool,style:i.object,updateTime:i.number},q.defaultProps={className:"",direction:"ltr",loading:0,maxProgress:H,progressIncrease:M,scope:y.DEFAULT_SCOPE,showFastActions:!1,style:{},updateTime:D};var Ae=function(d,p){return{loading:d.loadingBar[p.scope||y.DEFAULT_SCOPE]}};(0,l.polyfill)(q);var ke=(0,c.connect)(Ae)(q);t.default=ke})(ee)),ee}var te={},me;function yt(){return me||(me=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=Y();function l(e,n){return x(e)||_(e,n)||c(e,n)||i()}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(e,n){if(e){if(typeof e=="string")return y(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return y(e,n)}}function y(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,a=new Array(n);o<n;o++)a[o]=e[o];return a}function _(e,n){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var o=[],a=!0,h=!1,g=void 0;try{for(var b=e[Symbol.iterator](),w;!(a=(w=b.next()).done)&&(o.push(w.value),!(n&&o.length===n));a=!0);}catch(O){h=!0,g=O}finally{try{!a&&b.return!=null&&b.return()}finally{if(h)throw g}}return o}}function x(e){if(Array.isArray(e))return e}var S=["PENDING","FULFILLED","REJECTED"];function m(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.promiseTypeSuffixes||S,o=e.scope||r.DEFAULT_SCOPE;return function(a){var h=a.dispatch;return function(g){return function(b){if(b.type){var w=l(n,3),O=w[0],R=w[1],T=w[2],L=new RegExp("".concat(O,"$"),"g"),D=new RegExp("".concat(R,"$"),"g"),H=new RegExp("".concat(T,"$"),"g"),M=b.meta&&b.meta.scope||b.scope||o;b.type.match(L)?h((0,r.showLoading)(M)):(b.type.match(D)||b.type.match(H))&&h((0,r.hideLoading)(M))}return g(b)}}}}})(te)),te}var re={},he;function vt(){return he||(he=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=Te,l=Le(),i=Y(),c=function(x,S){return{loading:x.get("loadingBar")[S.scope||i.DEFAULT_SCOPE]}},y=(0,r.connect)(c)(l.LoadingBar);t.default=y})(re)),re}var ge;function bt(){return ge||(ge=1,(function(t){function r(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(o){return typeof o}:r=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadingBar",{enumerable:!0,get:function(){return l.LoadingBar}}),Object.defineProperty(t,"loadingBarMiddleware",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"DEFAULT_SCOPE",{enumerable:!0,get:function(){return c.DEFAULT_SCOPE}}),Object.defineProperty(t,"HIDE",{enumerable:!0,get:function(){return c.HIDE}}),Object.defineProperty(t,"hideLoading",{enumerable:!0,get:function(){return c.hideLoading}}),Object.defineProperty(t,"loadingBarReducer",{enumerable:!0,get:function(){return c.loadingBarReducer}}),Object.defineProperty(t,"RESET",{enumerable:!0,get:function(){return c.RESET}}),Object.defineProperty(t,"resetLoading",{enumerable:!0,get:function(){return c.resetLoading}}),Object.defineProperty(t,"SHOW",{enumerable:!0,get:function(){return c.SHOW}}),Object.defineProperty(t,"showLoading",{enumerable:!0,get:function(){return c.showLoading}}),Object.defineProperty(t,"ImmutableLoadingBar",{enumerable:!0,get:function(){return y.default}}),t.default=void 0;var l=S(Le()),i=_(yt()),c=Y(),y=_(vt());function _(e){return e&&e.__esModule?e:{default:e}}function x(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return x=function(){return e},e}function S(e){if(e&&e.__esModule)return e;if(e===null||r(e)!=="object"&&typeof e!="function")return{default:e};var n=x();if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)){var g=a?Object.getOwnPropertyDescriptor(e,h):null;g&&(g.get||g.set)?Object.defineProperty(o,h,g):o[h]=e[h]}return o.default=e,n&&n.set(e,o),o}var m=l.default;t.default=m})($)),$}var G=bt();const _t=_e(G),St=Ne("shared/fetchInitialData",async(t,{dispatch:r})=>{r(G.showLoading());const{users:l,polls:i,bakers:c}=await st();r(ut(l)),r(ct(i)),r(pt(c)),r(G.hideLoading())});var ne,ye;function xt(){if(ye)return ne;ye=1;function t(m,e){m.prototype=Object.create(e.prototype),m.prototype.constructor=m,r(m,e)}function r(m,e){return r=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},r(m,e)}var l=ae(),i=Se(),c=16,y=[],_=function(e,n){var o=n.fillColor,a=n.text,h=n.textColor,g=n.canvasSize,b=g/5;e.font="bold "+(g-b*2)+"px arial";var w=Math.min(e.measureText(a).width,g-b)+b,O=g-w,R=g/2-b,T=b+g/2,L=Math.min(w/2,T/2);e.beginPath(),e.moveTo(O+L,R),e.arcTo(O+w,R,O+w,R+T,L),e.arcTo(O+w,R+T,O,R+T,L),e.arcTo(O,R+T,O,R,L),e.arcTo(O,R,O+w,R,L),e.closePath(),e.fillStyle=o,e.fill(),e.fillStyle=h,e.textBaseline="bottom",e.textAlign="right",e.fillText(a,g-b/2,g,g-b)};function x(m){var e=m.alertCount,n=m.alertFillColor,o=m.alertTextColor,a=m.callback,h=m.renderOverlay,g=m.url,b=m.canvasSize,w=document.createElement("img");w.crossOrigin="Anonymous",w.onload=function(){var O=document.createElement("canvas");O.width=b,O.height=b;var R=O.getContext("2d");R.clearRect(0,0,w.width,w.height),R.drawImage(w,0,0,O.width,O.height),e&&_(R,{fillColor:n,textColor:o,text:e,canvasSize:b}),h&&h(O,R),a(R.canvas.toDataURL())},w.src=g}var S=(function(m){t(e,m);function e(){for(var o,a=arguments.length,h=new Array(a),g=0;g<a;g++)h[g]=arguments[g];return o=m.call.apply(m,[this].concat(h))||this,o.state={animationIndex:0,animationLoop:null,animationRunning:!1},o}e.getActiveInstance=function(){return e.mountedInstances[e.mountedInstances.length-1]},e.draw=function(){if(!(typeof document>"u")){var a=e.getActiveInstance();if(y.length===0){var h=document.getElementsByTagName("head")[0],g=document.createElement("link");g.type="image/x-icon",g.rel="icon";var b=document.createElement("link");b.rel="apple-touch-icon",y.push(g,b);for(var w=h.getElementsByTagName("link"),O=w.length;--O>=0;)/\bicon\b/i.test(w[O].getAttribute("rel"))&&!a.props.keepIconLink(w[O])&&h.removeChild(w[O]);y.forEach(function(T){return h.appendChild(T)})}var R;a.props.url instanceof Array?R=a.props.url[a.state.animationIndex]:R=a.props.url,a.props.alertCount||a.props.renderOverlay?x({alertCount:a.props.alertCount,alertFillColor:a.props.alertFillColor,alertTextColor:a.props.alertTextColor,callback:function(L){y.forEach(function(D){return D.href=L})},renderOverlay:a.props.renderOverlay,url:R,canvasSize:a.props.iconSize}):y.forEach(function(T){return T.href=R})}},e.update=function(){if(!(typeof document>"u")){var a=e.getActiveInstance(),h=a.props.url instanceof Array&&a.props.animated,g=null;if(clearInterval(a.state.animationLoop),h){var b=function(){var O=(a.state.animationIndex+1)%a.props.url.length;e.draw(),a.setState({animationIndex:O})};g=setInterval(b,a.props.animationDelay),b()}else e.draw();a.setState({animationLoop:g})}};var n=e.prototype;return n.componentDidMount=function(){e.mountedInstances.push(this),e.update()},n.componentWillUnmount=function(){var a=e.getActiveInstance();clearInterval(a.state.animationLoop)},n.componentDidUpdate=function(a){a.url===this.props.url&&a.animated===this.props.animated&&a.alertCount===this.props.alertCount&&a.alertFillColor===this.props.alertFillColor&&a.alertTextColor===this.props.alertTextColor&&a.renderOverlay===this.props.renderOverlay&&a.keepIconLink===this.props.keepIconLink&&a.iconSize===this.props.iconSize||e.update()},n.render=function(){return null},e})(l.Component);return S.displayName="Favicon",S.mountedInstances=[],S.defaultProps={iconSize:c,alertCount:null,alertFillColor:"red",alertTextColor:"white",animated:!0,animationDelay:500,keepIconLink:function(){return!1},renderOverlay:null,url:null},S.propTypes={iconSize:i.number,alertCount:i.oneOfType([i.number,i.string]),alertFillColor:i.string,alertTextColor:i.string,animated:i.bool,animationDelay:i.number,keepIconLink:i.func,renderOverlay:i.func,url:i.oneOfType([i.arrayOf(i.string),i.string]).isRequired},ne=S,ne}var Ot=xt();const wt=_e(Ot),Pt=()=>Ce(),Ie=Be;class Rt extends I.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,l){console.error("ErrorBoundary caught an error:",r,l)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-amber-50 to-yellow-100 px-4",children:s.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"mb-6",children:s.jsx("svg",{className:"w-24 h-24 mx-auto text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"We encountered an unexpected error. Don't worry, it's not your fault!"}),this.state.error&&s.jsxs("details",{className:"mt-4 text-left bg-red-50 p-4 rounded-lg",children:[s.jsx("summary",{className:"cursor-pointer font-semibold text-red-800 mb-2",children:"Error Details"}),s.jsx("pre",{className:"text-sm text-red-700 whitespace-pre-wrap overflow-x-auto",children:this.state.error.toString()})]}),s.jsxs("div",{className:"mt-8 space-x-4",children:[s.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 bg-amber-700 text-white font-semibold rounded-lg hover:bg-amber-800 transition-colors focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2",children:"Try Again"}),s.jsx("a",{href:"/",className:"inline-block px-6 py-3 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2",children:"Go Home"})]})]})}):this.props.children}}const Et=I.lazy(()=>k(()=>import("./LoginPage-Dya4TboZ.js"),__vite__mapDeps([0,1,2,3]))),Tt=I.lazy(()=>k(()=>import("./Dashboard-DrTaZ3bW.js"),__vite__mapDeps([4,1,5,2,3]))),Lt=I.lazy(()=>k(()=>import("./Leaderboard-CweS-osg.js"),__vite__mapDeps([6,1,3,2]))),It=I.lazy(()=>k(()=>import("./PollPage-DVM873OH.js"),__vite__mapDeps([7,1,8,5,2,3]))),jt=I.lazy(()=>k(()=>import("./Custom404-BGnq5FTb.js"),__vite__mapDeps([9,2,1,3]))),At=I.lazy(()=>k(()=>import("./LoginAs-CTZS8vhN.js"),__vite__mapDeps([10,2,1,3]))),ve=I.lazy(()=>k(()=>import("./LandingPage-CvGAz9Ns.js"),__vite__mapDeps([11,3,1,2]))),kt=I.lazy(()=>k(()=>import("./NewPoll-dPrpSXXQ.js"),__vite__mapDeps([12,1,8,5,2,3]))),Dt=I.lazy(()=>k(()=>import("./Nav-VdqvrXW5.js"),__vite__mapDeps([13,2,1,3]))),oe=()=>s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",role:"status","aria-live":"polite",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("svg",{className:"animate-spin h-12 w-12 mx-auto text-amber-700 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("p",{className:"text-lg text-gray-600 font-semibold",children:"Loading..."})]})});function W({children:t}){const r=We();return Ie(i=>i.authedUser)?s.jsx(s.Fragment,{children:t}):s.jsx(Je,{to:"/login",replace:!0,state:{path:r.pathname}})}const Ut=()=>s.jsx("div",{children:s.jsx(He,{})}),Nt=()=>{const t=Pt(),r=Ie(l=>Object.keys(l.polls).length===0);return I.useEffect(()=>{t(St())},[t]),s.jsx(Rt,{children:s.jsxs(s.Fragment,{children:[s.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[1000] focus:bg-amber-700 focus:text-white focus:px-4 focus:py-2 focus:rounded focus:font-semibold focus:outline-none focus:ring-2 focus:ring-amber-500",children:"Skip to main content"}),s.jsxs("div",{className:"App",children:[s.jsx(wt,{url:"https://img.icons8.com/emoji/48/000000/ballot-box-with-ballot.png"}),s.jsxs("div",{className:"page-container",children:[s.jsx(_t,{}),s.jsx(I.Suspense,{fallback:s.jsx(oe,{}),children:s.jsx(Dt,{})}),s.jsx("main",{id:"main-content",className:"page-wrapper",role:"main",children:r===!0?s.jsx(oe,{}):s.jsx(I.Suspense,{fallback:s.jsx(oe,{}),children:s.jsxs(ze,{children:[s.jsx(A,{path:"/login",element:s.jsx(Et,{})}),s.jsx(A,{path:"/error",element:s.jsx(jt,{})}),s.jsxs(A,{path:"/",element:s.jsx(Ut,{}),children:[s.jsx(A,{index:!0,element:s.jsx(ve,{})}),s.jsx(A,{path:"/welcome",element:s.jsx(ve,{})}),s.jsx(A,{path:"dashboard",element:s.jsx(W,{children:s.jsx(Tt,{})})})]}),s.jsx(A,{path:"/auth",element:s.jsx(W,{children:s.jsx(At,{})})}),s.jsx(A,{path:"/add",element:s.jsx(W,{children:s.jsx(kt,{})})}),s.jsx(A,{path:"/leaderboard",element:s.jsx(W,{children:s.jsx(Lt,{})})}),s.jsx(A,{path:"/questions/:id",element:s.jsx(W,{children:s.jsx(It,{})})})]})})})]})]})]})})},je=V({name:"authedUser",initialState:null,reducers:{setAuthedUser:(t,r)=>r.payload,logoutAuthedUser:()=>null}}),{setAuthedUser:Zt,logoutAuthedUser:Xt}=je.actions,Ct=je.reducer,Bt=Me({authedUser:Ct,users:lt,polls:dt,bakers:ft,loadingBar:G.loadingBarReducer}),Mt=qe({reducer:Bt,middleware:t=>t()}),qt=document.getElementById("root"),Ft=Qe.createRoot(qt);Ft.render(s.jsx(Fe,{store:Mt,children:s.jsx(Ke,{basename:"/",children:s.jsx(Nt,{})})}));export{Ie as a,Ht as b,Yt as c,Vt as d,Kt as e,Qt as f,Gt as g,s as j,Xt as l,Zt as s,Pt as u};
//# sourceMappingURL=index-D1QAhWgw.js.map
