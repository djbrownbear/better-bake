{"version":3,"file":"PollHeader-DK2dHJsx.js","sources":["../../src/actions/polls.ts","../../src/components/PollHeader.tsx"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { savePoll, savePollAnswer } from \"../utils/api\";\r\nimport { addPoll, addAnswer } from \"../reducers/polls\";\r\nimport { addAnswerToUser, addPollToUser } from \"../reducers/users\";\r\nimport { RootState } from '../reducers';\r\nimport { PollAnswer } from '../types';\r\n\r\nexport const handleAddPoll = createAsyncThunk(\r\n  'polls/addPoll',\r\n  async (\r\n    {\r\n      optionOneText,\r\n      optionTwoText,\r\n      optionOneImage,\r\n      optionTwoImage,\r\n    }: {\r\n      optionOneText: string;\r\n      optionTwoText: string;\r\n      optionOneImage: string;\r\n      optionTwoImage: string;\r\n    },\r\n    { dispatch, getState }\r\n  ) => {\r\n    const { authedUser } = getState() as RootState;\r\n\r\n    const poll = await savePoll({\r\n      optionOneText,\r\n      optionTwoText,\r\n      optionOneImage,\r\n      optionTwoImage,\r\n      author: authedUser!,\r\n    });\r\n\r\n    dispatch(addPoll(poll));\r\n    dispatch(addPollToUser({ author: poll.author, qid: poll.id }));\r\n  }\r\n);\r\n\r\nexport const handleAddAnswer = createAsyncThunk(\r\n  'polls/addAnswer',\r\n  async (\r\n    { qid, answer, authedUser }: { qid: string; answer: PollAnswer; authedUser: string },\r\n    { dispatch }\r\n  ) => {\r\n    await savePollAnswer({\r\n      qid,\r\n      answer,\r\n      authedUser,\r\n    });\r\n\r\n    dispatch(addAnswer({ qid, answer, authedUser }));\r\n    dispatch(addAnswerToUser({ authedUser, qid, answer }));\r\n  }\r\n);","import React from 'react';\r\nimport { formatDate } from \"../utils/helpers\";\r\n\r\ninterface PollHeaderProps {\r\n  avatar: string;\r\n  name: string;\r\n  timestamp: number;\r\n}\r\n\r\nconst PollHeader: React.FC<PollHeaderProps> = ({ avatar, name, timestamp }) => {\r\n  const defaultAvatar = \"https://img.icons8.com/external-others-inmotus-design/67/000000/external-Avatar-round-icons-others-inmotus-design-5.png\";\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden\">\r\n      {/* Header Section with Gradient */}\r\n      <div className=\"bg-gradient-to-r from-amber-50 via-white to-amber-50 p-8 border-b border-gray-100\">\r\n        <h2 className=\"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-center text-gray-900 leading-tight tracking-tight\">\r\n          Who Had The <span className=\"text-amber-700\">Better</span> Bake?\r\n        </h2>\r\n      </div>\r\n      \r\n      {/* Author Info Section */}\r\n      <div className=\"p-6 bg-white\">\r\n        <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\r\n          {/* Avatar with enhanced styling */}\r\n          <div className=\"relative\">\r\n            <img \r\n              src={avatar ? avatar : defaultAvatar} \r\n              alt=\"\" \r\n              aria-hidden=\"true\"\r\n              className=\"w-16 h-16 rounded-full object-cover border-4 border-amber-200 shadow-md ring-2 ring-amber-100\" \r\n            />\r\n            <div className=\"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 border-2 border-white rounded-full\"></div>\r\n          </div>\r\n          \r\n          {/* Author Name with Icon */}\r\n          <div className=\"text-center sm:text-left\">\r\n            <div className=\"flex items-center gap-2 justify-center sm:justify-start mb-1.5\">\r\n              <svg className=\"w-4 h-4 text-amber-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n              <span className=\"text-xs uppercase tracking-widest font-bold text-gray-500 leading-none\">\r\n                Poll Creator\r\n              </span>\r\n            </div>\r\n            <p className=\"text-xl font-bold text-gray-900 leading-tight\">\r\n              {name}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Timestamp */}\r\n        <div className=\"mt-4 pt-4 border-t border-gray-100 text-center\">\r\n          <div className=\"inline-flex items-center gap-2 text-sm font-medium text-gray-600\">\r\n            <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n            <time \r\n              dateTime={new Date(timestamp).toISOString()}\r\n            >\r\n              {formatDate(timestamp)}\r\n            </time>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PollHeader;"],"names":["handleAddPoll","createAsyncThunk","optionOneText","optionTwoText","optionOneImage","optionTwoImage","dispatch","getState","authedUser","poll","savePoll","addPoll","addPollToUser","handleAddAnswer","qid","answer","savePollAnswer","addAnswer","addAnswerToUser","PollHeader","avatar","name","timestamp","jsxs","jsx"],"mappings":"2KAOO,MAAMA,EAAgBC,EAC3B,gBACA,MACE,CACE,cAAAC,EACA,cAAAC,EACA,eAAAC,EACA,eAAAC,CAAA,EAOF,CAAE,SAAAC,EAAU,SAAAC,KACT,CACH,KAAM,CAAE,WAAAC,CAAA,EAAeD,EAAA,EAEjBE,EAAO,MAAMC,EAAS,CAC1B,cAAAR,EACA,cAAAC,EACA,eAAAC,EACA,eAAAC,EACA,OAAQG,CAAA,CACT,EAEDF,EAASK,EAAQF,CAAI,CAAC,EACtBH,EAASM,EAAc,CAAE,OAAQH,EAAK,OAAQ,IAAKA,EAAK,EAAA,CAAI,CAAC,CAC/D,CACF,EAEaI,EAAkBZ,EAC7B,kBACA,MACE,CAAE,IAAAa,EAAK,OAAAC,EAAQ,WAAAP,GACf,CAAE,SAAAF,KACC,CACH,MAAMU,EAAe,CACnB,IAAAF,EACA,OAAAC,EACA,WAAAP,CAAA,CACD,EAEDF,EAASW,EAAU,CAAE,IAAAH,EAAK,OAAAC,EAAQ,WAAAP,CAAA,CAAY,CAAC,EAC/CF,EAASY,EAAgB,CAAE,WAAAV,EAAY,IAAAM,EAAK,OAAAC,CAAA,CAAQ,CAAC,CACvD,CACF,EC5CMI,EAAwC,CAAC,CAAE,OAAAC,EAAQ,KAAAC,EAAM,UAAAC,KAI3DC,EAAAA,KAAC,MAAA,CAAI,UAAU,wEAEb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,oFACb,SAAAD,EAAAA,KAAC,KAAA,CAAG,UAAU,yGAAyG,SAAA,CAAA,eACzGC,EAAAA,IAAC,OAAA,CAAK,UAAU,iBAAiB,SAAA,SAAM,EAAO,QAAA,CAAA,CAC5D,CAAA,CACF,EAGAD,EAAAA,KAAC,MAAA,CAAI,UAAU,eACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,8DAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,WACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,IAAKJ,GAjBK,0HAkBV,IAAI,GACJ,cAAY,OACZ,UAAU,+FAAA,CAAA,EAEZI,EAAAA,IAAC,MAAA,CAAI,UAAU,qFAAA,CAAsF,CAAA,EACvG,EAGAD,EAAAA,KAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iEACb,SAAA,CAAAC,MAAC,MAAA,CAAI,UAAU,yBAAyB,KAAK,eAAe,QAAQ,YAClE,SAAAA,EAAAA,IAAC,OAAA,CAAK,SAAS,UAAU,EAAE,sDAAsD,SAAS,UAAU,EACtG,EACAA,EAAAA,IAAC,OAAA,CAAK,UAAU,yEAAyE,SAAA,cAAA,CAEzF,CAAA,EACF,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,gDACV,SAAAH,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EACF,QAGC,MAAA,CAAI,UAAU,iDACb,SAAAE,EAAAA,KAAC,MAAA,CAAI,UAAU,mEACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,wBAAwB,KAAK,OAAO,OAAO,eAAe,QAAQ,YAC/E,eAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,8CAA8C,CAAA,CACrH,EACAA,EAAAA,IAAC,OAAA,CACC,SAAU,IAAI,KAAKF,CAAS,EAAE,YAAA,EAE7B,WAAWA,CAAS,CAAA,CAAA,CACvB,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF"}